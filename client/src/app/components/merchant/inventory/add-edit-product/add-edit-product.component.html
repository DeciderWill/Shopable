<app-navbar
  title="Product"
  [user]="merchant"
  [showBackButton]="true"
  backRoute="/merchant/inventory"
>
</app-navbar>

<div class="p-4 text-center bg-pink-500">
  <mat-card class="w-1/2 mx-auto">
    <mat-card-content>
      <form [formGroup]="productForm" (ngSubmit)="addProduct()">
        <mat-form-field class="w-full" appearance="fill">
          <mat-label>Name</mat-label>
          <input matInput formControlName="name" required />
        </mat-form-field>
        <mat-form-field class="w-full" appearance="fill">
          <mat-label>Description</mat-label>
          <textarea
            rows="3"
            matInput
            formControlName="description"
            required
          ></textarea>
        </mat-form-field>
        <mat-form-field class="w-full" appearance="fill">
          <mat-label>Category</mat-label>
          <input matInput formControlName="category" required />
        </mat-form-field>
        <mat-form-field class="w-full" appearance="fill">
          <mat-label>Discount Price</mat-label>
          <input
            type="number"
            matInput
            formControlName="discountPrice"
            required
          />
        </mat-form-field>
        <mat-form-field class="w-full" appearance="fill">
          <mat-label>Price</mat-label>
          <input type="number" matInput formControlName="price" required />
        </mat-form-field>
        <mat-form-field class="w-full" appearance="fill">
          <mat-label>Stock</mat-label>
          <input type="number" matInput formControlName="quantity" required />
        </mat-form-field>
      </form>
    </mat-card-content>
  </mat-card>
</div>

<div class="flex justify-center p-4">
  <button
    [disabled]="productForm.invalid"
    color="accent"
    mat-raised-button
    (click)="!!productId ? updateProduct() : addProduct()"
  >
    {{ !!productId ? "Update Product" : "Add Product" }}
  </button>
</div>
